# Parse Server Configuration
# CRITICAL: PARSE_MASTER_KEY is required for all database operations
# Generate a strong, unique master key for your application
PARSE_APP_ID=amexing-app-id
PARSE_MASTER_KEY=your-secure-master-key-change-this

# IMPORTANT: Port Configuration
# Development: PORT=1337, PARSE_SERVER_URL=http://localhost:1337/parse
# Production:  PORT=1338, PARSE_SERVER_URL=http://localhost:1338/parse
PARSE_SERVER_URL=http://localhost:1337/parse
PARSE_PUBLIC_SERVER_URL=http://localhost:1337/parse

# MongoDB Configuration
DATABASE_URI=mongodb+srv://<username>:<password>@cluster0.pxvyx.mongodb.net/<database>?retryWrites=true&w=majority&appName=Cluster0
DATABASE_NAME=AmexingDEV

# Server Configuration
NODE_ENV=development
PORT=1337
HOST=localhost

# Security Configuration
SESSION_SECRET=your-session-secret-min-32-chars-change-this
JWT_SECRET=your-jwt-secret-min-32-chars-change-this
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_KEY=your-32-character-encryption-key-change-this
BCRYPT_ROUNDS=12

# CORS Configuration (EJS templates only - no frontend)
CORS_ORIGIN=http://localhost:1337
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Email Configuration - MailerSend
MAILERSEND_API_TOKEN=your-mailersend-api-token-change-this
EMAIL_FROM=noreply@quotes.amexingexperience.com
EMAIL_FROM_NAME=Amexing Experience

# Application Base URL (for email templates and asset URLs)
APP_BASE_URL=http://localhost:1337

# Email Base URL (for email template assets - logos, images)
EMAIL_BASE_URL=https://quotes.amexingexperience.com

# Legacy Email Configuration (SMTP)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=alejandro@meeplab.com
EMAIL_PASS=your-app-specific-password

# Logging Configuration
LOG_LEVEL=debug
LOG_DIR=logs
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=365

# PCI DSS Compliance
PCI_ENVIRONMENT=development
ENABLE_PCI_COMPLIANCE=true
SESSION_TIMEOUT_MINUTES=15
MAX_LOGIN_ATTEMPTS=6
ACCOUNT_LOCKOUT_DURATION_MINUTES=30
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_HISTORY_COUNT=4

# File Upload Configuration
MAX_FILE_SIZE_MB=250
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# ====================
# AWS S3 Configuration (Direct AWS SDK Usage)
# ===============================================
# These variables are used by FileStorageService for direct S3 uploads
# NOT used by Parse Server adapter (adapter removed in favor of direct uploads)

# S3 Bucket Configuration
S3_BUCKET=amexing-bucket                 # S3 bucket name for file storage
S3_PREFIX=dev/                           # Environment prefix for file organization (dev/, prod/)

# AWS Credentials (OPTIONAL in production - use IAM roles)
# For development: Provide credentials for local testing
# For EC2/ECS production: Leave empty (IAM role provides credentials automatically)
AWS_ACCESS_KEY_ID=                       # AWS access key (dev only)
AWS_SECRET_ACCESS_KEY=                   # AWS secret key (dev only)
AWS_REGION=us-east-1                     # AWS region for S3 bucket

# S3 Security Configuration (PCI DSS Compliance)
S3_PRESIGNED_URL_EXPIRES=3600           # Presigned URL expiry in seconds (1 hour for PCI DSS 4.2.1)
S3_ENCRYPTION_TYPE=AES256                # Server-side encryption: 'AES256' or 'aws:kms' (PCI DSS 3.5.1)
S3_KMS_KEY_ID=                           # KMS key ID (required only if using aws:kms encryption)

# File Deletion Strategy
S3_DELETION_STRATEGY=move                # Deletion strategy: 'soft', 'move', 'hard'

# Monitoring
ENABLE_MONITORING=true
MONITOR_INTERVAL_MS=60000

# Cloud Code
CLOUD_CODE_MAIN=./src/cloud/main.js