# Environment Configuration for PRODUCTION-LOCAL
# Generated: 2025-10-26T00:00:00.000Z
# Security Level: production (with localhost HTTP compatibility)
#
# PURPOSE: This environment is for running production database locally on HTTP
# - Uses production database (MongoDB Atlas)
# - Uses production security settings
# - BUT: Cookie settings compatible with localhost HTTP (no HTTPS required)
# - Use this for local testing with production data
# - DO NOT use this configuration on actual production servers

# ⚠️  SECURITY WARNING:
# This file contains sensitive information. Do not commit to version control.
# Consider using encrypted .env.vault files for production.

# Parse Server Configuration
PARSE_APP_ID=CrTRTaJpoJFNt8PJ
PARSE_MASTER_KEY=MEu9DMJo6bQHqxoKqLx0mx/il5hTnBEgn6SIdfKsEvA+1xcW2c5yJ4Idbq4awCUP

# PRODUCTION-LOCAL Environment - Port 1338
# Uses production database but localhost HTTP server
PARSE_SERVER_URL=http://localhost:1338/parse
PARSE_PUBLIC_SERVER_URL=http://localhost:1338/parse

# Database Configuration - PRODUCTION DATABASE
DATABASE_URI=mongodb+srv://amexing:sQ_sGZLdi49nRAJqs6ygnjKM7JGBpwxg3qW**WoXbTwH69%40_.vv%40r__36jYrBCKj2GyDZkr3He9nMpsTqQk_y37xfPiFXokAt.v.@amexingexperience.awy90dk.mongodb.net/?retryWrites=true&w=majority&appName=AmexingExperience
DATABASE_NAME=AmexingPROD

# Server Configuration
# IMPORTANT: Set to 'production-local' to enable HTTP-compatible cookies
NODE_ENV=production-local
PORT=1338
HOST=localhost

# Security Configuration
SESSION_SECRET=4d+pkkGLk1CyjFM0a/4ppPRezJAxwSQrAz+ViPNI+l9WByAaN5+Y0vN9B0uvzTr21DykNY4L8c0hSheXspq5FA==
JWT_SECRET=pnpyG85KTzerWz6YQHjmzfVUSwQs7iedKixkSZvfpr+jYt1Rk9clgNNAGfNCIscFmXh9pZbWhnUj046u4sRoDQ==
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_KEY=UVcyEGNFHDNyn49g2VxuuTi29h4Ecsetk78LWhM352U=
BCRYPT_ROUNDS=12

# Cookie Configuration for localhost HTTP
# These settings allow cookies to work on localhost without HTTPS
COOKIE_SECURE=false
COOKIE_SAMESITE=lax
# No COOKIE_DOMAIN for localhost

# CORS Configuration (EJS templates only - no frontend)
CORS_ORIGIN=http://localhost:1338
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# External Services
EMAIL_FROM=alejandro@meeplab.com
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=alejandro@meeplab.com
EMAIL_PASS=app-specific-password

# PCI DSS Compliance
PCI_ENVIRONMENT=production-local
ENABLE_PCI_COMPLIANCE=true
SESSION_TIMEOUT_MINUTES=15
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_HISTORY_COUNT=4

# Logging Configuration
LOG_LEVEL=info
LOG_DIR=.runtime/logs
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=365

# File Upload Configuration
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# Monitoring
ENABLE_MONITORING=true
MONITOR_INTERVAL_MS=60000

# Cloud Code
CLOUD_CODE_MAIN=./src/cloud/main.js

# OAuth Configuration
OAUTH_ENCRYPTION_KEY=UVcyEGNFHDNyn49g2VxuuTi29h4Ecsetk78LWhM352U=
OAUTH_ACCESS_TOKEN_TTL=3600
OAUTH_REFRESH_TOKEN_TTL=604800
OAUTH_AUTH_CODE_TTL=600
OAUTH_CLIENT_SECRET_ENCRYPTION=true

# OAuth Rate Limiting
OAUTH_AUTH_RATE_LIMIT_WINDOW=60000
OAUTH_AUTH_RATE_LIMIT_MAX=50
OAUTH_TOKEN_RATE_LIMIT_WINDOW=60000
OAUTH_TOKEN_RATE_LIMIT_MAX=30

# OAuth Security Configuration (relaxed for localhost)
OAUTH_ENABLE_PKCE=true
OAUTH_REQUIRE_HTTPS=false
OAUTH_ENABLE_IMPLICIT_GRANT=false
ENABLE_OAUTH_INTROSPECTION=true
ENABLE_OAUTH_REVOCATION=true
OAUTH_SECURITY_LOGGING=true
OAUTH_LOG_SENSITIVE_DATA=false
OAUTH_LOG_LEVEL=info

# OAuth Callback URLs for localhost
OAUTH_CALLBACK_URLS=http://localhost:1338/auth/callback

# ===================================
# PRODUCTION SUPERADMIN CONFIGURATION
# ===================================
# Initial SuperAdmin credentials for database initialization
# Same as production since we use the same database

PROD_SUPERADMIN_EMAIL=admin@amexing.com
PROD_SUPERADMIN_PASSWORD=Amexing2025!
PROD_SUPERADMIN_FIRSTNAME=System
PROD_SUPERADMIN_LASTNAME=Administrator

# ===================================
# OAUTH PROVIDERS CONFIGURATION
# ===================================
# Production OAuth configurations
# Update with real credentials when accounts are available

# Google OAuth (Production Configuration)
GOOGLE_CLIENT_ID=1234567890-abcdef1234567890abcdef1234567890.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-1234567890abcdef1234567890abcdef12
GOOGLE_REDIRECT_URI=http://localhost:1338/auth/google/callback
GOOGLE_OAUTH_CLIENT_ID=1234567890-abcdef1234567890abcdef1234567890.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-1234567890abcdef1234567890abcdef12
GOOGLE_OAUTH_ENABLED=false
GOOGLE_OAUTH_MOCK_MODE=false
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:1338/auth/google/callback
GOOGLE_OAUTH_SCOPES=openid,profile,email,https://www.googleapis.com/auth/admin.directory.user.readonly

# Microsoft OAuth (Production Configuration)
MICROSOFT_CLIENT_ID=12345678-1234-1234-1234-123456789012
MICROSOFT_CLIENT_SECRET=1234567890abcdef1234567890abcdef12345678
MICROSOFT_REDIRECT_URI=http://localhost:1338/auth/microsoft/callback
MICROSOFT_OAUTH_CLIENT_ID=12345678-1234-1234-1234-123456789012
MICROSOFT_OAUTH_CLIENT_SECRET=1234567890abcdef1234567890abcdef12345678
MICROSOFT_OAUTH_TENANT_ID=common
MICROSOFT_OAUTH_ENABLED=false
MICROSOFT_OAUTH_MOCK_MODE=false
MICROSOFT_OAUTH_REDIRECT_URI=http://localhost:1338/auth/microsoft/callback
MICROSOFT_OAUTH_SCOPES=openid,profile,email,User.Read,Directory.Read.All

# Apple OAuth (Production Configuration)
APPLE_CLIENT_ID=com.amexing.web
APPLE_CLIENT_SECRET=placeholder_apple_secret
APPLE_REDIRECT_URI=http://localhost:1338/auth/apple/callback
APPLE_OAUTH_CLIENT_ID=com.amexing.web
APPLE_OAUTH_TEAM_ID=ABCD123456
APPLE_OAUTH_KEY_ID=EFGH789012
APPLE_OAUTH_ENABLED=false
APPLE_OAUTH_MOCK_MODE=false
APPLE_OAUTH_REDIRECT_URI=http://localhost:1338/auth/apple/callback
APPLE_OAUTH_PRIVATE_KEY_PATH=./certificates/apple/AuthKey_EFGH789012.p8

# OAuth Global Settings
OAUTH_MOCK_MODE=false
OAUTH_PROVIDERS_ENABLED=
OAUTH_DEFAULT_SCOPES=openid,profile,email
