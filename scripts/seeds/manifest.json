{
  "version": "1.0.0",
  "description": "Seed manifest for AmexingWeb database initialization",
  "author": "Amexing Development Team",
  "seeds": [
    {
      "name": "000-seed-rbac-roles",
      "file": "000-seed-rbac-roles.js",
      "description": "Create system roles for RBAC (SuperAdmin, Admin, Client, Department Manager, Employee, Guest)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [],
      "idempotent": true,
      "order": 0
    },
    {
      "name": "000-seed-rbac-permissions",
      "file": "000-seed-rbac-permissions.js",
      "description": "Create system permissions for RBAC (users.*, clients.*, bookings.*, etc.)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "000-seed-rbac-roles"
      ],
      "idempotent": true,
      "order": 0.5
    },
    {
      "name": "000-seed-superadmin-user",
      "file": "000-seed-superadmin-user.js",
      "description": "Create initial SuperAdmin user from environment variables (DEV_SUPERADMIN_EMAIL, DEV_SUPERADMIN_PASSWORD)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "000-seed-rbac-roles"
      ],
      "idempotent": true,
      "order": 0.6
    },
    {
      "name": "001-seed-service-types",
      "file": "001-seed-service-types.js",
      "description": "Seed initial service types (Aeropuerto, Punto a Punto, Local, Tours)",
      "version": "1.1.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [],
      "idempotent": true,
      "order": 1
    },
    {
      "name": "002-seed-pois-local",
      "file": "002-seed-pois-local.js",
      "description": "Seed 45 local destinations from docs/tarifario/datos_local.txt",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "001-seed-service-types"
      ],
      "idempotent": true,
      "order": 2
    },
    {
      "name": "003-seed-pois-aeropuerto",
      "file": "003-seed-pois-aeropuerto.js",
      "description": "Seed 10 airport destinations from docs/tarifario/datos_aeropuerto.txt",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "001-seed-service-types"
      ],
      "idempotent": true,
      "order": 3
    },
    {
      "name": "004-seed-pois-ciudades",
      "file": "004-seed-pois-ciudades.js",
      "description": "Seed 18 city destinations from docs/tarifario/datos_ciudades.txt",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "001-seed-service-types"
      ],
      "idempotent": true,
      "order": 4
    },
    {
      "name": "005-seed-rates",
      "file": "005-seed-rates.js",
      "description": "Ensure existing 4 rates have color field (Econ√≥mico, First Class, Green Class, Premium)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [],
      "idempotent": true,
      "order": 5
    },
    {
      "name": "006-seed-vehicle-types",
      "file": "006-seed-vehicle-types.js",
      "description": "Seed 6 vehicle types from vehicleTypes.json (SEDAN, VAN, SUBURBAN, SPRINTER, MODEL 3, MODEL Y)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [],
      "idempotent": true,
      "order": 6
    },
    {
      "name": "007-seed-services-from-csv",
      "file": "007-seed-services-from-csv.js",
      "description": "Import 837 services from Estructura_Tarifario.csv with POI+serviceType matching and batch processing",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "001-seed-service-types",
        "002-seed-pois-local",
        "003-seed-pois-aeropuerto",
        "004-seed-pois-ciudades",
        "005-seed-rates",
        "006-seed-vehicle-types"
      ],
      "idempotent": true,
      "order": 7
    },
    {
      "name": "008-seed-system-settings",
      "file": "008-seed-system-settings.js",
      "description": "Create system configuration settings (paymentSurchargePercentage: 21.09%)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [],
      "idempotent": true,
      "order": 8
    },
    {
      "name": "009-seed-pois-tours",
      "file": "009-seed-pois-tours.js",
      "description": "Seed POIs for Tours destinations from Estructura_Tarifario_Tours.csv",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "001-seed-service-types"
      ],
      "idempotent": true,
      "order": 9
    },
    {
      "name": "010-seed-tours-from-csv",
      "file": "010-seed-tours-from-csv.js",
      "description": "Import tours from Estructura_Tarifario_Tours.csv with duration and passenger range",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "001-seed-service-types",
        "005-seed-rates",
        "006-seed-vehicle-types",
        "009-seed-pois-tours"
      ],
      "idempotent": true,
      "order": 10
    },
    {
      "name": "011-create-emaillog-class",
      "file": "011-create-emaillog-class.js",
      "description": "Create EmailLog class with schema, indexes, and CLPs for email traceability and notification tracking",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [],
      "idempotent": true,
      "order": 11
    },
    {
      "name": "013-seed-tour-catalog",
      "file": "013-seed-tour-catalog.js",
      "description": "Create Tour catalog from Tours table (rate-agnostic unique tours without passenger limits)",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "009-seed-pois-tours",
        "010-seed-tours-from-csv"
      ],
      "idempotent": true,
      "order": 13
    },
    {
      "name": "015-populate-tour-prices-first-class",
      "file": "015-populate-tour-prices-first-class.js",
      "description": "Populate TourPrices with First Class rates for SEDAN and SUBURBAN vehicle types",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "013-seed-tour-catalog",
        "005-seed-rates",
        "006-seed-vehicle-types"
      ],
      "idempotent": true,
      "order": 15
    },
    {
      "name": "016-populate-tour-prices-green-class",
      "file": "016-populate-tour-prices-green-class.js",
      "description": "Populate TourPrices with Green Class rates for MODEL 3 and MODEL Y vehicle types",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "013-seed-tour-catalog",
        "005-seed-rates",
        "006-seed-vehicle-types"
      ],
      "idempotent": true,
      "order": 16
    },
    {
      "name": "017-populate-tour-prices-premium",
      "file": "017-populate-tour-prices-premium.js",
      "description": "Populate TourPrices with Premium rates for SEDAN, SUBURBAN, and SPRINTER vehicle types",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "013-seed-tour-catalog",
        "005-seed-rates",
        "006-seed-vehicle-types"
      ],
      "idempotent": true,
      "order": 17
    },
    {
      "name": "018-update-tour-prices-from-tours",
      "file": "018-update-tour-prices-from-tours.js",
      "description": "Update TourPrices with actual prices from Tours table by matching vehicleType, rate, and destinationPOI",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "015-populate-tour-prices-first-class",
        "016-populate-tour-prices-green-class",
        "017-populate-tour-prices-premium",
        "010-seed-tours-from-csv"
      ],
      "idempotent": true,
      "order": 18
    },
    {
      "name": "019-validate-tour-prices",
      "file": "019-validate-tour-prices.js",
      "description": "Validate TourPrices after price update to ensure actual prices from Tours table were applied",
      "version": "1.0.0",
      "enabled": true,
      "environments": [
        "development",
        "staging",
        "production"
      ],
      "dependencies": [
        "018-update-tour-prices-from-tours"
      ],
      "idempotent": true,
      "order": 19
    }
  ],
  "notes": [
    "Seeds are executed in order specified by 'order' field",
    "Dependencies must be listed in 'dependencies' array",
    "Idempotent seeds can be run multiple times safely",
    "Use 'enabled: false' to skip a seed without removing it",
    "Environment-specific seeds only run in specified environments",
    "RBAC seeds (000-*) MUST run first to create roles, permissions, and SuperAdmin user",
    "Set DEV_SUPERADMIN_EMAIL and DEV_SUPERADMIN_PASSWORD in .env before running seeds"
  ]
}